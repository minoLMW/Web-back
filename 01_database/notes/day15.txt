Day15

1. sequence
    - 값을 얻으면 정해진 숫자만큼 증가하는 오브젝트
    - Primary Key를 얻으려는 곳에 많이 사용된다.
    예) 게시판(Board)
        글번호, 제목, 내용, 작성자, 작성일자, 수정일자

        이 중 글번호가 대부분 sequence이다.
        만약 sequence를 사용하지 않는다면
            1) 현재 글번호의 최대값을 읽는다.
            2) 최대값에 1을 더한다.
            3) 그게 내 글번호이다.

        약점) 글이 많을수록 최대값 찾는데 시간이 오래?
              : 오라클은 인덱스를 역순으로 읽는 기능으로
                금방 가져올 수는 있다.
                기타 DB는 안됨
              글번호를 뽑고 작성하는 방식으로 
              웹 페이지가 되어 있을 경우
              => 동시에 글 작성을 하는 경우 먼저 완료한
                 글만 등록이 완료된다.
              => 원래부터 등록 버튼을 누르면 글번호를 
                 얻어오는 방식이었어야 함
        
        sequence를 사용하면 이 모든 문제가 사라짐
        => 단점) 글 번호를 sequence로 먼저 채번을 하고
                 작성한다면 작성하다가 취소할 경우
                 sequence 번호가 증가되어 취소되지 않는다.

    create sequence 문장으로 sequence를 생성한다.

2. View
    - 사용자에게 특정한 부분만 보여주기 위한 오브젝트
    - 한 개의 테이블에서 만들 수도 있고,
      여러 개의 테이블로부터 만들 수도 있음

    * 주요 사용 목적
    - 사용자가 볼 수 없는 데이터를 가리기 위한 목적
    - 사용자 편의성을 위해 미리 주요 데이터를 가져오도록
      설계(일반적으로 다 테이블 조인)

    * 우려사항
    - 사용자가 성능 개선 등의 목적으로 SQL 수정이 필요한 경우
      수정하기가 어려움 -> View 내부를 모름

3. 파티션(Partition)
    - 테이블 1개를 용도와 목적에 따라 여러 개로 분할하는 것
    - 파티션을 만드는 작업을 파티셔닝이라고 함
    - 거의 백프로 테이블이 엄청난 사이즈일 경우 생성
    - 테이블이 매우 크다???
        => 오래된 데이터를 일정 주기로 지워야 하는데,
           truncate를 하면 모든 데이터가 지워지기 때문에 X
        => 데이터 전체 검색 시 자연스럽게 오래 걸림
    - 파티셔닝을 하게 되면
        => 특정 파티션만 골라서 drop하거나 truncate 가능
                        
    - 파티셔닝은 크게 3가지 종류가 존재
        - range
            가장 빈번하게 사용되는 파티션
            파티션마다 구간을 설정하고 데이터를 담는다.
            예) pr99 파티션은 19990101 ~ 19991231로 설정
                pr00 파티션은 20000101 ~ 20001231로 설정
                pretc 파티션은 20300101 이후 전체
        - hash
            데이터를 쌓는 과정에서 경합이 발생하는 경우
            특별하게 파티션 구간이 없는 경우
            데이터를 임의로 설정한 개수로 분할한다.
            일반적으로 16개, 32개, 64개, 128개
        - list
            특정한 컬럼의 값에 따라 파티셔닝하는 것
            예) pr_kb : bank_cd가 kb인 것만
                pr_wb : bank_cd가 woori인 것만
                pr_kko : bank_cd가 kakao인 것만

            select *
            from   bank(pr_kb)
            where  bank_cd = 'woori'
            ;
